<!-- Breadcrumb Navigation -->
<nav class="breadcrumb" aria-label="Breadcrumb">
  <a href="/">Home</a>
  <span class="breadcrumb-separator">/</span>
  <a href="/projects">Projects</a>
  <span class="breadcrumb-separator">/</span>
  <span class="breadcrumb-current"><%= @project.name %></span>
</nav>

<!-- Project Hero Section -->
<header class="project-hero" role="region" aria-label="Project overview">
  <%# Optional cover image: only shown when model provides `cover_url` %>
  <% if @project.respond_to?(:cover_url) && @project.cover_url %>
    <div class="project-hero-cover" style="background-image: url('<%= @project.cover_url %>')" aria-hidden="true"></div>
  <% end %>

  <div class="project-hero-content">
    <div class="project-title-section">
      <h1 class="project-title"><%= @project.name %></h1>
      
      <div class="project-meta-info">
        <div class="meta-item">
          <svg class="meta-icon" width="16" height="16" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
            <path d="M3 18C3 14 6 11 10 11C14 11 17 14 17 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span>Created by <a href="/profile/<%= @project.user.id %>" class="meta-link"><%= @project.user.username %></a></span>
        </div>
        
        <div class="meta-item">
          <svg class="meta-icon" width="16" height="16" viewBox="0 0 20 20" fill="none">
            <rect x="3" y="4" width="14" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
            <path d="M3 8H17M7 2V6M13 2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span><%= @project.created_at.strftime("%B %d, %Y") %></span>
        </div>
        
        <div class="meta-item">
          <svg class="meta-icon" width="16" height="16" viewBox="0 0 20 20" fill="none">
            <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="2"/>
            <path d="M10 6V10L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
          <span>Updated <%= time_ago(@project.updated_at) %></span>
        </div>
      </div>
      <%# Tags (if provided by the model) %>
      <% if @project.respond_to?(:tags) && @project.tags && @project.tags.any? %>
        <div class="tags-list" aria-label="Project tags">
          <% @project.tags.each do |tag| %>
            <span class="tag-pill"><%= tag %></span>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="project-hero-actions" aria-hidden="false">
      <div class="action-group">
        <a href="/projects" class="btn btn-ghost">Back</a>

        <% if can?(:edit, @project) %>
          <a href="/projects/<%= @project.id %>/edit" class="btn btn-primary">
            <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
              <path d="M14.5 2.5C15.33 1.67 16.67 1.67 17.5 2.5C18.33 3.33 18.33 4.67 17.5 5.5L6.5 16.5L2 18L3.5 13.5L14.5 2.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Edit Project
          </a>
        <% end %>

        <% if can?(:destroy, @project) %>
          <form action="/projects/<%= @project.id %>" method="post" style="display: inline;" data-confirm="Are you sure you want to delete this project?">
            <input type="hidden" name="_method" value="delete">
            <button type="submit" class="btn btn-danger">
              <svg width="16" height="16" viewBox="0 0 20 20" fill="none">
                <path d="M3 5H17M8 5V3H12V5M8 9V15M12 9V15M5 5L6 17H14L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Delete
            </button>
          </form>
        <% end %>
      </div>
    </div>
  </div>
</header>

<!-- Project Content Grid -->
<div class="project-layout container">
  <!-- Main Content Column -->
  <main class="project-main" role="main">
    
    <!-- Description Card -->
    <div class="content-card">
      <div class="card-header-section">
        <h2 class="card-title">
          <svg class="card-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
            linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Descriptiontag
                </h2>
                </div>
                
                <div class="card-content">
                <% if @project.description && !@project.description.empty? %>
                  <div class="description-content">
                  <%= @project.description%>
                  </div>
                <% else %>
                  <div class="empty-content">
                  <svg class="empty-icon" width="48" height="48" viewBox="0 0 20 20" fill="none">
                    <path d="M10 2C5.58 2 2 5.58 2 10C2 14.42 5.58 18 10 18C14.42 18 18 14.42 18 10C18 5.58 14.42 2 10 2Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M7 9H13M10 7V13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  <p class="empty-text">No description provided yet</p>
                  <% if can?(:edit, @project) %>
                    <a href="/projects/<%= @project.id %>/edit" class="btn btn-sm">Add Description</a>
                  <% end %>
                  </div>
                <% end %>
                </div>
              </div>

              <!-- Activity Timeline Card -->
              <div class="content-card">
                <div class="card-header-section">
                <h2 class="card-title">
                  <svg class="card-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <circle cx="10" cy="10" r="7" stroke="currentColor" stroke-width="2"/>
                  <path d="M10 6V10L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                  Recent Activity
                </h2>
                </div>
                
                <div class="card-content">
                <div class="timeline">
                  <div class="timeline-item">
                  <div class="timeline-marker timeline-marker-success"></div>
                  <div class="timeline-content">
                    <div class="timeline-header">
                    <span class="timeline-title">Project Created</span>
                    <span class="timeline-time"><%= @project.created_at.strftime("%b %d, %Y") %></span>
                    </div>
                    <p class="timeline-description">
                    <a href="/users/<%= @project.user.id %>"><%= @project.user.username %></a> created this project
                    </p>
                  </div>
                  </div>
                  
                  <% if @project.updated_at != @project.created_at %>
                  <div class="timeline-item">
                  <div class="timeline-marker timeline-marker-primary"></div>
                  <div class="timeline-content">
                    <div class="timeline-header">
                    <span class="timeline-title">Last Updated</span>
                    <span class="timeline-time"><%= time_ago(@project.updated_at) %></span>
                    </div>
                    <p class="timeline-description">Project details were modified</p>
                  </div>
                  </div>
                  <% end %>
                </div>
                </div>
              </div>

              <!-- Comments Section (Future Feature) -->
              <div class="content-card">
                <div class="card-header-section">
                <h2 class="card-title">
                  <svg class="card-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                  <path d="M2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C8.89 18 7.84 17.77 6.88 17.37L3 18L3.63 14.12C3.23 13.16 3 12.11 3 11C3 10.66 3.03 10.33 3.07 10H2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Comments
                </h2>
                <span class="card-badge">Coming Soon</span>
                </div>
                
                <div class="card-content">
                <div class="empty-content">
                  <svg class="empty-icon" width="48" height="48" viewBox="0 0 20 20" fill="none">
                  <path d="M2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 14.4183 14.4183 18 10 18C8.89 18 7.84 17.77 6.88 17.37L3 18L3.63 14.12C3.23 13.16 3 12.11 3 11C3 10.66 3.03 10.33 3.07 10H2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <p class="empty-text">Comments feature coming soon</p>
                  <p class="empty-hint">Collaborate with your team by leaving comments</p>
                </div>
                </div>
              </div>
              </main>

              <!-- Sidebar Column -->
              <aside class="project-sidebar" role="complementary" aria-label="Project details and actions">
              
              <!-- Project Info Card -->
              <div class="sidebar-card">
                <h3 class="sidebar-title">Project Information</h3>
                
                <div class="info-list">
                <div class="info-item">
                  <%= project_status_badge(@project) %>
                </div>
                
                <div class="info-item">
                  <span class="info-label">Owner</span>
                  <div class="owner-info">
                  <div class="avatar-xs">
                    <%= @project.user.username[0].upcase %>
                  </div>
                  <a href="/users/<%= @project.user.id %>" class="owner-name">
                    <%= @project.user.username %>
                  </a>
                  </div>
                </div>
                
                <div class="info-item">
                  <span class="info-label">Created</span>
                  <span class="info-value"><%= @project.created_at.strftime("%b %d, %Y") %></span>
                </div>
                
                <div class="info-item">
                  <span class="info-label">Last Updated</span>
                  <span class="info-value"><%= time_ago(@project.updated_at) %></span>
                </div>
                </div>
              </div>

              <!-- Contributors Card -->
              <div class="sidebar-card">
                <h3 class="sidebar-title">Contributors</h3>
                
                  <div class="contributors-list">
                    <% contributors = (@project.contributors || []) %>
                    <% contributors.each do |u| %>
                      <div class="contributor-item">
                        <div class="avatar-sm" aria-hidden="true"><%= h(u.username[0].upcase) %></div>
                        <div class="contributor-details">
                          <a href="/users/<%= u.id %>" class="contributor-name"><%= h(u.username) %></a>
                          <span class="contributor-role"><%= u.id == @project.user_id ? 'Owner' : 'Contributor' %></span>
                        </div>
                      </div>
                    <% end %>

                    <% if can?(:edit, @project) %>
                      <a href="/projects/<%= @project.id %>/edit" class="btn btn-sm btn-outline btn-block" style="margin-top:1rem;">Manage Contributors</a>
                    <% end %>
                  </div>
              </div>

              </div>
            </div>


            